(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     10882,        262]
NotebookOptionsPosition[     10386,        245]
NotebookOutlinePosition[     10761,        261]
CellTagsIndexPosition[     10718,        258]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"FileNameJoin", "@", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"ParentDirectory", "[", 
       RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ",", 
      "\"\<Shared\>\""}], "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Needs", "[", "\"\<gPlots3DEx`\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Needs", "[", "\"\<gPlotsEx`\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Needs", "[", "\"\<gBRDF`\>\"", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Needs", "[", "\"\<gUtils`\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"SetDirectory", "[", 
    RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{
   "scene", ",", "camera", ",", "eyePt", ",", "lookPt", ",", "upDir", ",", 
    "fov", ",", "lights", ",", "prims", ",", "polyList", ",", "graph", ",", 
    "i"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scene", "=", 
   RowBox[{"ToExpression", "[", 
    RowBox[{"Import", "[", "\"\<cornell-tiny.txt\>\"", "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"camera", "=", 
   RowBox[{
    RowBox[{"scene", "[", "\"\<camera\>\"", "]"}], "[", 
    RowBox[{"[", "1", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"eyePt", "=", 
   RowBox[{"camera", "[", "\"\<eyePt\>\"", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"lookPt", "=", 
   RowBox[{"camera", "[", "\"\<lookPt\>\"", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"upDir", "=", 
   RowBox[{"camera", "[", "\"\<upDir\>\"", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fov", "=", 
   RowBox[{"camera", "[", "\"\<fov\>\"", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fov", "=", 
   RowBox[{
    FractionBox["fov", "180"], "\[Pi]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"lights", "=", 
   RowBox[{"scene", "[", "\"\<lights\>\"", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"prims", "=", 
   RowBox[{"scene", "[", "\"\<prims\>\"", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"polyList", "=", 
   RowBox[{"{", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"For", "[", 
   RowBox[{
    RowBox[{"i", "=", "1"}], ",", 
    RowBox[{"i", "\[LessEqual]", 
     RowBox[{"Length", "[", "lights", "]"}]}], ",", 
    RowBox[{"i", "++"}], ",", 
    RowBox[{"AppendTo", "[", 
     RowBox[{"polyList", ",", 
      RowBox[{
       RowBox[{"lights", "[", 
        RowBox[{"[", "i", "]"}], "]"}], "[", "\"\<tri\>\"", "]"}]}], "]"}]}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"For", "[", 
    RowBox[{
     RowBox[{"i", "=", "1"}], ",", 
     RowBox[{"i", "\[LessEqual]", 
      RowBox[{"Length", "[", "prims", "]"}]}], ",", 
     RowBox[{"i", "++"}], ",", 
     RowBox[{"AppendTo", "[", 
      RowBox[{"polyList", ",", 
       RowBox[{
        RowBox[{"prims", "[", 
         RowBox[{"[", "i", "]"}], "]"}], "[", "\"\<tri\>\"", "]"}]}], "]"}]}],
     "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"graph", "=", 
    RowBox[{"Graphics3D", "[", 
     RowBox[{"{", 
      RowBox[{"Blue", ",", "\[IndentingNewLine]", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", "polyList", "]"}], "\[IndentingNewLine]", 
        "}"}]}], "\[IndentingNewLine]", "}"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"Show", "[", 
  RowBox[{"graph", ",", 
   RowBox[{"Lighting", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"{", 
      RowBox[{"\"\<Ambient\>\"", ",", "Cyan"}], "}"}], "}"}]}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"Boxed", "\[Rule]", "False"}], ",", " ", 
   RowBox[{"Axes", "\[Rule]", "False"}], ",", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<X\>\"", ",", "\"\<Y\>\"", ",", "\"\<Z\>\""}], "}"}]}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"ViewVector", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"eyePt", ",", "lookPt"}], "}"}]}], ",", 
   RowBox[{"ViewVertical", "\[Rule]", "upDir"}], ",", 
   RowBox[{"ViewAngle", "\[Rule]", "fov"}]}], 
  "]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.8375796096478853`*^9, 3.8375796098708925`*^9}, {
   3.837579643706537*^9, 3.8375796590141945`*^9}, {3.8375797396191688`*^9, 
   3.8375799701343956`*^9}, {3.837587139784298*^9, 3.837587174766556*^9}, {
   3.8375879250035048`*^9, 3.8375879483163743`*^9}, {3.8375879879433584`*^9, 
   3.837588037014532*^9}, {3.8375915695940647`*^9, 3.837591637736456*^9}, {
   3.837592653513052*^9, 3.837592678282386*^9}, {3.8376368115351906`*^9, 
   3.837636956116087*^9}, {3.8376370021242905`*^9, 3.8376370324829645`*^9}, {
   3.83763711193229*^9, 3.83763712892241*^9}, {3.8376371736360445`*^9, 
   3.837637233539319*^9}, {3.837637283663158*^9, 3.837637313741413*^9}, {
   3.837637385443429*^9, 3.837637414514078*^9}, {3.8376374516817265`*^9, 
   3.8376374561545963`*^9}, {3.8376375056265535`*^9, 3.837637509477162*^9}, {
   3.8376375434034057`*^9, 3.8376375454219885`*^9}, 3.8376375857745667`*^9, {
   3.837637633444476*^9, 3.8376376693000174`*^9}, {3.8376377567068634`*^9, 
   3.837637792525714*^9}, {3.837637931353848*^9, 3.837638115129551*^9}, {
   3.837638152531847*^9, 3.837638162635706*^9}, {3.837639775664646*^9, 
   3.8376397835602665`*^9}, {3.8376398199523616`*^9, 3.8376399157953515`*^9}},
 CellLabel->
  "In[1666]:=",ExpressionUUID->"c6a38e02-cc4a-43b3-88e1-6ca638b100b4"],

Cell[BoxData[
 Graphics3DBox[
  {RGBColor[0, 0, 1], 
   Polygon3DBox[{{{343., 227., 548.7}, {343., 332., 548.7}, {213., 332., 
    548.7}}, {{552.8, 0., 0.}, {549.6, 559.2, 0.}, {556., 559.2, 548.8}}, {{
    0., 559.2, 0.}, {549.6, 559.2, 0.}, {552.8, 0., 0.}}}]},
  Axes->False,
  AxesLabel->{
    FormBox["\"X\"", TraditionalForm], 
    FormBox["\"Y\"", TraditionalForm], 
    FormBox["\"Z\"", TraditionalForm]},
  Boxed->False,
  ImageSize->{311.11111111111205`, 311.1111111111111},
  Lighting->{{"Ambient", 
     RGBColor[0, 1, 1]}},
  ViewAngle->0.6544984694978736,
  ViewCenter->{0., 1., 0.},
  ViewPoint->{-0.02495089862805445, -1.8531638654815952`, \
-0.0021280577250315682`},
  ViewVector->{{278., -800., 273.}, {278., 0., 273.}},
  ViewVertical->{0., 0., 1.}]], "Output",
 CellChangeTimes->{{3.8376371866965303`*^9, 3.837637197642209*^9}, {
   3.837637234689714*^9, 3.8376373141754594`*^9}, 3.8376373860513525`*^9, 
   3.8376374786228347`*^9, 3.837637545728699*^9, 3.8376375864015226`*^9, 
   3.8376376448538923`*^9, 3.8376377075139265`*^9, 3.837637758056794*^9, 
   3.837637793135044*^9, {3.837637920668541*^9, 3.8376379420546403`*^9}, {
   3.8376379907152004`*^9, 3.8376380061453595`*^9}, 3.8376381158325496`*^9, {
   3.837638164149207*^9, 3.8376381919241834`*^9}, {3.8376397774160395`*^9, 
   3.8376397841036277`*^9}, {3.837639880135256*^9, 3.837639916180507*^9}},
 CellLabel->"Out[1686]=",ImageCache->GraphicsData["CompressedBitmap", "\<\
eJzdm0uIW1Ucxk8mmZlObTttp4+ZPtP3w2ot1gcqNChaoRSFgiIKzTRUWqXa
TktBC0YKFVMoKj6woA4KEVy4EFy4CMSFCxdCXLgQRIfgwoULCS5cuIg5j3u/
e07+Oflmpw7cc9Pc3/3ly/+ee8+5SXp89tKZ0+dmL52tzBaPzs2eP3O2crH4
yItzvafyOaVy03opqkLvcVepvmZKN6pQ7DXl3jLfW5q9ZaS3seKQSYNMaKTU
W6oO0URvqfWWRm9p95aOynXNBrPfLWa/JcP2y2te79fJpY+cYVw3I1qgxoLd
9VLXu4+Zl9OSjkvRNSnazlEwKcaTN+gUKqtQE2avQtaRRGk4DQzz/YaWWiak
GEkcNaX+JhyTnqPlOzq5BaP4C0UdJNL0KsGVFrqdaxrLn/2uZr+rvUZwFdL6
5KrG8gfnWi+4RtM65UrG8jvn2hBz2XrljEn9xvXEzYJwzC+aE/7KCYuesGH+
Ne5XzgntwS2EQnsa5rs4xbpquyBd4pfQSX/SjTt9BvX93amt5dvsK9hcUP5I
9ON9gnIifa7dDJQ/EMoDgnJp+lytGii/J5QH9e66vg2cu7VSIPoOxzkRST3x
kOBC6Ubs6lvOdTh1LcebbgaubzjXPalrhfAenevrqCvty/elLlynKqGrAZfe
NOi8eKCvCzeyV7+0cnm7+oqzHhGsK4UaOuuXJreWemeHN7g8KChxaUUpnfIL
08bGmpZ6WFCuTp9TxUD5ua8Uu/KjnrIWKFFOOxSqzwjlMUE5lT7XmA+UdRyh
QUpdzuOCFaMLyumsH/dbpV7+uGetGOtaoaLO+iFnPRG1oqijdnWTsz4hWNeh
rtXA+i6sujiDev5TQl0x0qKuzvoWZ30matXP2b8xu7qhmyGTtZOCcjp9rr0Q
KGsZZVnJA9gpQTkjVNQpXzNtvPOfFg4SJhsop1NeJZRnokr0pnG7eoVQPt+n
bKuNqGUzUL6Mg54opQ56TrBuEsrprJc563nBitkWKuqsc5z1YmpoCVYUdYld
vQCrfsFB3f6yYN0i1NVZn+OsL/VZO2qrUFdnfda01HzwimDGxBO1deZTuhky
7FWjShR2wq5O2mOXHC5n9HvrVbzXVLlNqKpTPu0rxRPgmqDE5BgldconCeXr
gnKHUEunPIFjnyilfno9akU5l9rVY5z1hmDdKVTUWY9x1jcF6y6hqM56NGpN
e//bghV3Hqirsz4Eq9406Jx6L2pFXe0HEeoIZ73ZZ+2qPUJdnfV+3Qw5nz4Q
lHuFojrlvaaNf2TxEd5nolX7hYpmlZ9qi524azKIgXots6ufTZsv25euGxD3
digEhderi8LxBiK4lH05gyM7heP+0sdLFq+FeInA9wjZVzA47mMoHGEovMLg
0jk2yeDITuHITuGY6UfwXUL2lR5eVOmplsVxz0PhyE7hyB7BM1f3NPsqBscV
hsKRPYJnBrBugq9mcGSncGSncGR3+C8W71rcXvQw8UAnmGJwXDgoHNkpHNkj
eFHIvobBkZ3CkZ3CkT2CbxWyr2VwZKdwZKdwZPfxBYt3DLhFyL6OwZGdwpGd
wpE9gks3ResZHNkpHNkpHNkj+CYh+zSDIzuFY5D38abF2yFeIvCNQvYZBkd2
Ckd2Di8RuPTpxAYGxyBP4QhD4RUGnxGyb/TweYu3AhzZKRzZKRyDfASfFrJv
YnBMUCgc2SN48HGfyb+ZwdtpdgrHhYPCkT2Cr/Ozm78tHl61eCPAkZ3CkZ3C
kT2CSx80b2VwXDgoHNkpHNkj+Bohe5HBkZ3Ckd3HyxavBziyR/ApIfs2Bkd2
Ckd2Ckf2CC5947OdwZGdwpGdwpE9gq8Ssu9gcGSncGT38ZLFawGO7BF8pZB9
J4MjO4VjkOfwEoFLX7ruYnBkp3Bk5/ASga8Qsu/28KLFKwGOQZ7CEYbCKwy+
XMi+h8Fb84vCkZ3CMUGJ4NJPHPYyOCYoFI7sDrev5t/E4UcgGOT3MXh7YVE4
LhwUjuwRfELIvp/BkZ3CkZ3CkT2CSz8RupXBceGgcGT38QWLdwIc2SP4uJD9
AIMjO4UjO4UjewQfE7LfxuDITuHITuHIHsFHhey3Mziy+3jT4u0AR3YKR/YI
XhCyH2RwZKdwZKdwZI/geSH7HQyO7BSOQZ7DSzI+b/HM71+D7IcYHNkpHNkp
HIO8h49lcbeY3HcOo8ycZChlSjaUqvRRowFla3k4htjBOorYAxhF7ITCQwpV
izSSHHcN2moiDNxqXt3bmtwo6km/UndLm2oLAzeZ74MHbCoN3qTkTQvypmIi
y2wylpn/1uNL9u3ot1J2izpQTp9L/+Y8XAPNxJRP2+Sb94b5Lq9hhoELxUBh
fmhkvmYfMQdKX7+1qOIWLWhlvsOqlwPBFdNK/4sh0aS/AMh8NYD5ttO8uggN
PnHF3wW7ugZNWdbUUw0+O6oUA811044N0ozYenYz/6chc5eFEjnbG7BVSRum
vKiUs71j2kJoG/FVnVSVmR50A9X7urG/sRjXnnm54q3MyIhSnbcr+7PPpcSB
q5Xxyp+YdjTcq5gJ9284H/+vj1XuH3SyR0I=\
\>"],ExpressionUUID->"e37a9852-53b5-4687-adc3-84f944f52b0a"]
}, Open  ]]
},
WindowSize->{759, 813},
WindowMargins->{{443, Automatic}, {-316, Automatic}},
Magnification:>0.9 Inherited,
FrontEndVersion->"12.0 for Microsoft Windows (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 5674, 145, 584, "Input",ExpressionUUID->"c6a38e02-cc4a-43b3-88e1-6ca638b100b4"],
Cell[6257, 169, 4113, 73, 296, 781, 20, "CachedBoxData", "BoxData", "Output",ExpressionUUID->"e37a9852-53b5-4687-adc3-84f944f52b0a"]
}, Open  ]]
}
]
*)

